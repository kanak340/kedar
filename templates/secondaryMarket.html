<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Table with Loop</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="/static/css/secondaryMarket.css">
</head>

<body>

    <div class="container">
        <div class="nav-bar">
            <div class="nav-left">
                <a href="/secondary-market"><button>Mr. Kedar</button></a>
                <a href="/secondary-market"><button>Home</button></a>
                <a href="/charts"><button>Charts</button></a>
                <a href="/orders"><button>Orders</button></a>
                <a href="/news"><button>News</button></a>
                <a href="/portfolio"><button>Portfolio</button></a>
                <a href="#"><button onclick="openPopup()">Calculate</button></a> <!-- Updated button to open popup -->
            </div>

            <div class="nav-right">
                <a href="#"><button class="logout-btn">Logout</button></a>
            </div>
        </div>

        <div class="main-content">
            <div class="left-column">
                <div class="left-row">
                    <div class="table-container">
                        <table>
                            <thead>
                                <tr id="table-headers">
                                    <!-- Dynamic headers will be inserted here -->
                                </tr>
                            </thead>
                            <tbody id="bond-data">
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="left-row">
                    <div class="bottom-row-container form-horizontal">
                        <div class="field-container">
                            <div class="field-label">Bid/Offer Type</div>
                            <select>
                                <option value="bid">Bid</option>
                                <option value="offer">Offer</option>
                            </select>
                        </div>
                        <div class="field-container">
                            <div class="field-label">Security Name</div>
                            <input type="text" id="securityNameInput" class="security-name-input"
                                placeholder="Security Name">
                        </div>
                        <div class="field-container">
                            <div class="field-label">Quantity</div>
                            <input type="number" placeholder="Quantity" min="1" step="1">
                        </div>
                        <div class="field-container">
                            <div class="field-label">Price</div>
                            <input type="number" id="priceInput" placeholder="Price" step="0.01">
                        </div>
                        <div class="field-container">
                            <div class="field-label">Order Type</div>
                            <select>
                                <option value="lmt">Limit</option>
                                <option value="mkt">Market</option>
                            </select>
                        </div>
                        <button class="place-order-btn">Place Order</button>
                    </div>
                </div>

                <div class="left-row">
                    <div class="bottom-row-container news-container">
                        <p id="news-content">Loading news...</p> <!-- Placeholder for news content -->
                    </div>
                </div>
            </div>

            <div class="right-column">
                <div class="right-box-row">
                    <h3>Summary</h3>
                 
                   
                    <p id="realised-gain">Realised P/L: Loading...</p>
                    <p id="balance" >Balance: Loading...</p>
                </div>
                <div class="right-box-row">
                    <h3>Order Book</h3>
                    <div class="table-container">
                        <table class="order-book-table">
                            <thead>
                                <tr id="order-book-headers">
                                    <!-- Dynamic headers will be inserted here -->
                                </tr>
                            </thead>
                            <tbody id="order-book-data">
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="right-box-row">
                    <h3>Chart</h3>
                    <canvas id="yieldChart" width="400" height="200"></canvas>
                </div>
            </div>
        </div>
    </div>

    <!-- Popup and Overlay HTML -->
    <div class="overlay" id="overlay" onclick="closePopup()"></div>
    <div class="popup" id="popup">
        <h2>Price/Yield Calculator</h2>
        <label for="bond">Select Bond:</label>
        <select id="bond"></select>
        <br><br>
        <label for="type">To Calculate:</label>
        <select id="type">
            <option value="price">Price</option>
            <option value="yield">Yield</option>
        </select>
        <br><br>
        <label for="inputValue">Enter Price/Yield:</label>
        <input type="text" id="inputValue" placeholder="Price/Yield">
      
       
        <br><br>
        <button onclick="calculate()">Calculate</button>
        <button onclick="closePopup()">Close</button>
    </div>

    <script src="/static/js/secondaryMarket.js"></script>


</body>

</html>
